# Trimiata bot


## Список переменных окружения
Список переменных окружения, которые нужны приложению для работы находятся в файле `env_settings.py`.

## docker
`make upd`

## Функции
* `/stock_data_equivalence` - делает запрос к 1С, получает данные о результатах сверки без предварительного запроса к сайту
* `/stock_data_equivalence_update` - делает запрос к 1С, получает данные о результатах сверки с предварительным запросом к сайту
* `/find_photos_with_same_article` - в папке `/SOURCES/PHOTO` собирает уникальные штрихкоды, подтягивает их артикулы и если есть одинаковые артикулы для разных штрихкодов, то собираются все фотографии содержащие эти штрихкоды и подготавливает отчет
* `/rename_photos` - переименовывает sources в renamed. До операции проверяет корректность файлов, если есть ошибки, то не будет делать переменование.
* `/rename_videos` - переименовывает sources в renamed. До операции проверяет корректность файлов, если есть ошибки, то не будет делать переменование.
* `/accept_photos` - делает приемку фото
* `/accept_videos` - делает приемку видео
* `/check_photos` - проверяет исходники фото - существование шк и нейминг
* `/check_videos` - делает приемку видео - существование шк и нейминг
* `/cancel_order` - отменяет заказ, нужно номер тоже написать как параметр

## Запуск
1. Файл .env в корне проекта используется для локального запуска приложения (без докера)
2. Для запуска в контейнере файл .env нужно поместить в директорию infra/ откуда докер возьмет переменные для установки внутри конейтнера, а так же для монтирования волюмов.